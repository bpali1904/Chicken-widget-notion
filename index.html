<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      background: transparent;
      overflow: hidden;
      cursor: none;
    }

    #chicken {
      position: absolute;
      width: 24px;
      height: 24px;
      background-repeat: no-repeat;
      image-rendering: pixelated;
      pointer-events: none;
    }
  </style>
</head>
<body>

<div id="chicken"></div>

<script>
  const chicken = document.getElementById("chicken");

  const FRAME_SIZE = 24;
  const FRAMES = 6;

  const SPRITE_RIGHT = "chicken-right.png";
  const SPRITE_LEFT  = "chicken-left.png";

  let x = 100, y = 100;
  let targetX = x, targetY = y;

  let frame = 0;
  let direction = "right";

  const maxSpeed = 4;     // top speed
  const easing = 0.08;    // lower = floatier

  document.addEventListener("mousemove", (e) => {
    targetX = e.clientX;
    targetY = e.clientY;
  });

  function clamp(value, min, max) {
    return Math.max(min, Math.min(max, value));
  }

  function animate() {
    const dx = targetX - x;
    const dy = targetY - y;

    // easing movement
    x += dx * easing;
    y += dy * easing;

    // direction
    if (Math.abs(dx) > 0.5) {
      direction = dx >= 0 ? "right" : "left";
    }

    // boundaries (widget edges)
    const maxX = window.innerWidth - FRAME_SIZE;
    const maxY = window.innerHeight - FRAME_SIZE;

    x = clamp(x, 0, maxX);
    y = clamp(y, 0, maxY);

    // animate only if moving
    if (Math.hypot(dx, dy) > 1) {
      frame = (frame + 0.25) % FRAMES;
    }

    chicken.style.left = ${x}px;
    chicken.style.top = ${y}px;

    chicken.style.backgroundImage =
      url(${direction === "right" ? SPRITE_RIGHT : SPRITE_LEFT});

    chicken.style.backgroundPosition =
      -${Math.floor(frame) * FRAME_SIZE}px 0px;

    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>
